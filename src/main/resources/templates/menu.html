<!--<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<div th:fragment="header">
    <nav style="
        background:#222;
        padding:15px;
        color:white;
        display:flex;
        align-items:center;
        justify-content:space-between;
    ">

         LEFT SIDE LINKS 
        <div>
			<a href="/getallproducts" style="color:white; margin-right:20px;">Home</a>
            <a href="/category/Electronics" style="color:white; margin-right:20px;">Electronics</a>
            <a href="/category/Fashion" style="color:white; margin-right:20px;">Fashion</a>
            <a href="/category/HomeKitchen" style="color:white; margin-right:20px;">Home-kitchen</a>
			<a href="/category/Books" style="color:white; margin-right:20px;">Books</a>
			<a href="/viewform" style="color:white; margin-right:20px;">Addproducts</a>


        </div>

         RIGHT SIDE SEARCH BAR 
        <form action="/search" method="get" style="margin:0; display:flex;">
            <input 
                type="text" 
                name="keyword"
                placeholder="Search products..."
                style="padding:6px; border:none; border-radius:4px 0 0 4px; outline:none; width:180px;">
            
            <button type="submit"
                style="padding:6px 12px; background:#ff9800; color:white; border:none;
                border-radius:0 4px 4px 0; cursor:pointer;">
                Search
            </button>
        </form>

    </nav>
</div>

</body>
</html>
-->


<div th:fragment="header">
    <nav style="background:#222; padding:15px; color:white; display:flex; justify-content:space-between;">

        <!-- LEFT -->
        <div>

			<a href="/getallproducts" style="color:white; margin-right:20px;">Home</a>
			            <a href="/category/Electronics" style="color:white; margin-right:20px;">Electronics</a>
			            <a href="/category/Fashion" style="color:white; margin-right:20px;">Fashion</a>
			            <a href="/category/HomeKitchen" style="color:white; margin-right:20px;">Home-kitchen</a>
						<a href="/category/Books" style="color:white; margin-right:20px;">Books</a>
						<a href="/viewform" style="color:white; margin-right:20px;">Addproducts</a>
						<a href="/cart" style="color:white; text-decoration:none;">
						    ðŸ›’ Cart (<span id="cartCount"
						        th:text="${session.cart != null ? session.cart.size() : 0}">
						        0
						    </span>)
						</a>


			
        </div>

		<!-- RIGHT SIDE USER INFO -->
		<div th:if="${session.loggedUser != null}" class="dropdown" style="color:white;">
		    <!-- Circle avatar with first letter in uppercase -->
		    <button class="btn btn-secondary dropdown-toggle rounded-circle"
		            type="button"
		            id="userDropdown"
		            data-bs-toggle="dropdown"
		            aria-expanded="false"
		            style="width:40px; height:40px; padding:0; text-align:center; background:#ff9800; border:none; color:white;">
		        <span th:text="${#strings.substring(session.loggedUser.name,0,1).toUpperCase()}"></span>
		    </button>

		    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
		        <!-- Display full name -->
		        <li class="dropdown-item-text" style="font-weight:bold;" th:text="${session.loggedUser.name}"></li>
		        <li><hr class="dropdown-divider"></li>
		        <li>				<a class="dropdown-item"
				   th:href="@{/manageaccount/{id}(id=${session.loggedUser.id})}">
				   Manage Account</a></li>
		        <li><a class="dropdown-item" href="/logout">Logout</a></li>
		    </ul>
		</div>

		<form action="/search" method="get" style="margin:0; display:flex;">
		           <input 
		               type="text" 
		               name="keyword"
		               placeholder="Search products..."
		               style="padding:6px; border:none; border-radius:4px 0 0 4px; outline:none; width:180px;">
		           
		           <button type="submit"
		               style="padding:6px 12px; background:#ff9800; color:white; border:none;
		               border-radius:0 4px 4px 0; cursor:pointer;">
		               Search
		           </button>
		       </form>

		
		<!-- If user not logged in -->
		<div th:if="${session.loggedUser == null}">
		    <a href="/login" style="color:white;">Login</a>
		</div>
		
		
		
		

		
		


    </nav>
</div>
